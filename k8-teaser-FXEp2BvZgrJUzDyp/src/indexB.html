<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
		<meta name="keywords" content="" />
		<meta name="format-detection" content="telephone=no" />
		<meta name="robots" content="NOODP, NOYDIR" />
		<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0" />

		<!-- FIXME title 수정 -->
		<title>타이틀을 수정해주세요</title>

		<!-- FIXME 임시 meta tag START -->
		<!-- <meta name="kia_metrics_pagename" content="showroom|k7|features" />
		<meta name="title" content="기아 K8 티저페이지 | 기아 공식 사이트" />
		<meta name="description" content="기아자동차 K8 티저페이지에 오신것을 환영합니다." />

		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:site" content="FUN_KIA" />
		<meta name="twitter:title" content="기아 K7 특징 - 승차감 좋은 대한민국 대표 준대형 | 기아 공식 사이트" />
		<meta
			name="twitter:description"
			content="기아자동차 K7 페이지에 오신것을 환영합니다. 승차감 좋은 대한민국 대표 준대형 기아 K7의 다양한 정보를 제공합니다."
		/>

		<meta property="og:site_name" content="KIA" />
		<meta property="og:title" content="기아 K8 티저페이지 | 기아 공식 사이트" />
		<meta property="og:type" content="website" />
		<meta property="og:description" content="기아자동차 K8 티저페이지에 오신것을 환영합니다." />

		<meta itemprop="name" content="기아 K8 티저페이지 | 기아 공식 사이트" />
		<meta itemprop="description" content="기아자동차 K8 티저페이지에 오신것을 환영합니다." /> -->
		<!-- FIXME 임시 meta tag END -->

		<!-- js -->
		<script src="./js/libs/jquery.min.js"></script>
		<script src="./js/libs/jquery-ui.min.js"></script>
		<script src="./js/libs/jquery.mousewheel.min.js"></script>
		<script src="./js/libs/ScrollMagic.min.js"></script>
		<script src="./js/libs/TweenMax.min.js"></script>
		<script src="./js/libs/animation.gsap.js"></script>
		<script src="./js/libs/debug.addIndicators.min.js"></script>
		<script src="./js/libs/owlSlide.min.js"></script>
		<script>
			// variables --------------------------------------------------------------------
			const isMobile =
				navigator.userAgent.match(/Android/i) ||
				navigator.userAgent.match(/webOS/i) ||
				navigator.userAgent.match(/iPhone/i) ||
				navigator.userAgent.match(/iPad/i) ||
				navigator.userAgent.match(/iPod/i) ||
				navigator.userAgent.match(/BlackBerry/i) ||
				navigator.userAgent.match(/Windows Phone/i)
					? true
					: false;
			let player;

			// sections
			let sections;

			// 일부 p tag
			let pBoxP;

			// intro, outro Movie
			let introMovies;
			let outroMovies;

			// gate - 숫자패드 클릭 이벤트
			let count = 0;
			let nums;
			let numCursor;

			// section2 youtube iframe
			let youtubeIframe;

			$(document).ready(function () {
				sections = document.querySelectorAll('#content > section');
				pBoxP = document.querySelectorAll('.ms-section1 .p-box p, .ms-section3 .p-box p');
				introMovies = document.querySelectorAll('.ms-section0 .bg-wrap .introMovie');
				outroMovies = document.querySelectorAll('.ms-section2 .bg-wrap .outroMovie');
				nums = document.querySelectorAll('.num-pad>ul>li>button');
				numCursor = document.querySelector('.num-wrap .input-box>ul>li:nth-child(5)>img');
				youtubeIframe = document.getElementById('iframe-div');

				// addEventListener -----------------------------------------------------------------

				// 각 숫자패드 클릭 이벤트
				for (let i = 0; i < nums.length; i++) {
					(function (ind) {
						nums[ind].addEventListener('click', function (e) {
							nums[ind].nextElementSibling.style.animation = '.7s alternate clickAni';
							setTimeout(function () {
								nums[ind].nextElementSibling.style.animation = '';
							}, 700);

							numCursor.classList.add('on');

							numCursor.src = nums[ind].children[0].src;
							nums[ind].children[0].src = './static/img/num_8.png';

							count++;

							// 숫자패드 클릭횟수 3번 이상일 경우 티저영상페이지로 넘어간다
							if (count >= 3) {
								sections[2].classList.remove('hide');
								sectionOnOff(1, false);
								count = 0;
								setTimeout(function () {
									sectionOnOff(2, true);
								}, 2200);
								return;
							}
						});
					})(i);
				}

				// section1 back, skip
				document.querySelector('.ms-section1 .top-box button').addEventListener('click', function () {
					sectionOnOff(1, false);
					setTimeout(function () {
						sectionOnOff(0, true);
					}, 3000);
				});
				document.querySelector('.ms-section1 .bottom-box button').addEventListener('click', function () {
					sectionOnOff(1, false);
					sections[2].classList.remove('hide');
					setTimeout(function () {
						sectionOnOff(2, true);
					}, 2200);
				});

				// section2 close
				document.querySelector('.ms-section2 button.top-left').addEventListener('click', function () {
					sectionOnOff(2, false);
				});

				// section3 다시보기(section2로), 처음으로(section0으로)
				document.querySelector('.ms-section3 .btn-wrap button.replay').addEventListener('click', function () {
					sectionOnOff(3, false);
					setTimeout(function () {
						sectionOnOff(2, true);
					}, 1500);
				});
				document.querySelector('.ms-section3 .btn-wrap button.goFirst').addEventListener('click', function () {
					sectionOnOff(3, false);
					setTimeout(function () {
						sectionOnOff(0, true);
					}, 1500);
				});

				// dom change ----------------------------------------------------------------------------
				// 한글자씩 transition하기위해 글자마다 span을 입히는 작업
				for (let i = 0; i < pBoxP.length; i++) {
					pBoxP[i].innerHTML = wrapSpan(pBoxP[i].innerHTML);
				}

				$('.slick-carousel').owlCarousel({
					loop: true,
					margin: 80,
					center: true,
					nav: false,

					mouseDrag: false,
					touchDrag: false,
					pullDrag: false,

					autoWidth: true,
					autoplay: true,
					autoplayTimeout: 6000,
					autoplaySpeed: 6000,
					slideTransition: 'linear',
					responsiveClass: true,
					responsive: {
						0: {
							items: 1,
						},
						1025: {
							items: 1,
						},
					},
				});

				// start ---------------------------------------------------------------------------

				if (window.location.hash === '#gallery') {
					sectionOnOff(3, true);
				} else {
					sectionOnOff(0, true);
				}
			});

			// functions ---------------------------------------------------------------------

			// text에 각 글자마다 span입히는 함수
			// tweenMax로 한글자씩 transition하기 위해 span을 입힌다.
			function wrapSpan(txt) {
				// (txt : String) : String {}
				return txt
					.split('')
					.map(function (v) {
						return v !== ' ' ? '<span>' + v + '</span>' : v;
					})
					.join('');
			}

			// section class hide toggle
			function sectionOpen(num) {
				// (num : number) : void
				for (let i = 0; i < sections.length; i++) {
					if (!sections[i].classList.contains('hide')) {
						sections[i].classList.add('hide');
					}
				}
				sections[num].classList.remove('hide');
			}

			// section on/off
			function sectionOnOff(num, on) {
				// (num : number 0 ~ 3, on : boolean) : void

				if (num > 3 || num < 0) {
					console.error('sectionOnOff - num의 숫자가 크거나 작음');
					return;
				}

				// section0
				if (num === 0) {
					if (on) {
						sectionOpen(0);
						introMovies[0].play();
						introMovies[1].play();

						TweenMax.to('.ms-section0 .logo img', 0.8, { opacity: 1, delay: 1 });
						TweenMax.to('.ms-section0 .p-box p', 0.7, { top: 0, opacity: 1, delay: 1.5 });

						setTimeout(function () {
							sectionOnOff(0, false);
						}, 3000);
					} else {
						TweenMax.to('.ms-section0 .p-box p', 0.5, { top: '-20px', opacity: 0 });
						TweenMax.to('.ms-section0 .logo img', 0.5, { opacity: 0 });

						setTimeout(function () {
							sectionOnOff(1, true);
						}, 1200);
					}
				}
				// section1
				else if (num === 1) {
					if (on) {
						sections[1].classList.remove('hide');
						setTimeout(function () {
							sections[0].classList.add('hide');
						}, 1000);

						// 전체 화면
						TweenMax.fromTo('.ms-section1', 0.8, { top: '100%' }, { top: 0, ease: 'ease-in-out' });

						// back, skip
						TweenMax.fromTo(
							'.ms-section1 .top-box, .ms-section1 .bottom-box',
							0.5,
							{
								opacity: 0,
							},
							{
								opacity: 1,
								ease: 'ease-in',
								delay: 0.8,
							}
						);

						// p-box
						TweenMax.staggerTo('.ms-section1 .p-box p', 0.5, { top: 0, opacity: 1, delay: 1 }, 0.2);

						// bg, num, keypad
						TweenMax.staggerTo('.ms-section1 .bg-wrap img', 0.3, { top: '0', opacity: 1, delay: 1.5 }, 0.1);

						TweenMax.staggerTo('.ms-section1 .input-box>ul>li', 0.5, { opacity: 1, delay: 1.5 }, 0.1);
						TweenMax.staggerTo('.ms-section1 .num-pad>ul>li', 0.5, { opacity: 1, delay: 1.5 }, 0.1);
					} else {
						// back, skip 버튼
						TweenMax.to('.ms-section1 .top-box', 0.5, { opacity: 0, ease: 'ease-out' });
						TweenMax.to('.ms-section1 .bottom-box', 0.5, { opacity: 0, ease: 'ease-out' });

						// p-box
						TweenMax.staggerTo(
							'.ms-section1 .p-box p:first-child span',
							0.5,
							{ opacity: 0, ease: 'ease-out', delay: 0.3 },
							0.1
						);
						TweenMax.to('.ms-section1 .p-box p:last-child', 0.5, {
							opacity: 0,
							ease: 'ease-out',
							delay: 0.2,
						});

						// num, keypad, bg
						TweenMax.staggerTo('.ms-section1 .num-pad>ul>li', 1, { opacity: 0 }, 0.1);
						TweenMax.staggerTo('.ms-section1 .input-box>ul>li', 1, { opacity: 0 }, 0.1);
						TweenMax.staggerTo('.ms-section1 .bg-wrap img', 1, { opacity: 0 }, 0.1);

						// 전체 화면
						TweenMax.to('.ms-section1', 0.8, { top: '100%', ease: 'ease-in-out', delay: 1.5 });

						// 초기화
						setTimeout(function () {
							document.querySelector('.num-wrap .input-box>ul>li:nth-child(5)>img').src =
								'./static/img/num_q.png';
							TweenMax.to('.ms-section1 .p-box p:first-child span', 0, { opacity: 1 });
							TweenMax.to('.ms-section1 .p-box p', 0, { top: '-20px', opacity: 0 });
							if (numCursor.classList.contains('on')) {
								numCursor.classList.remove('on');
							}
							for (let i = 0; i < nums.length; i++) {
								nums[i].children[0].src = './static/img/num_' + (i + 1) + '.png';
							}
						}, 2000);
					}
				}
				// section2
				else if (num === 2) {
					if (on) {
						sectionOpen(2);

						outroMovies[0].play();
						outroMovies[1].play();

						setTimeout(function () {
							TweenMax.to('.ms-section2 .bg-wrap video', 0.5, { opacity: 0 });
							TweenMax.to('.ms-section2 .center-wrap', 1, {
								display: 'block',
								opacity: 1,
								top: 0,
								delay: 0.4,
							});
							youtubeIframe.src =
								'https://www.youtube.com/embed/reQwksJ-yjU?rel=0&autoplay=1&playsinline=1&enablejsapi=1&version=3&playerapiid=ytplayer';
						}, 900);
					} else {
						sectionOnOff(3, true);
						youtubeIframe.src = '';
						TweenMax.to('.ms-section2 .bg-wrap video', 0, { opacity: 1 });
						TweenMax.to('.ms-section2 .center-wrap', 0, { display: 'none', opacity: 0, top: '-20px' });
					}
				}
				// section3
				else if (num === 3) {
					if (on) {
						sectionOpen(3);

						TweenMax.staggerTo('.ms-section3 .p-box p', 0.8, { opacity: 1, top: 0, delay: 1 }, 0.2);
						TweenMax.to('.ms-section3 .btn-wrap', 1, { opacity: 1, bottom: 0, delay: 1.1 });

						TweenMax.to('.ms-section3 .slick-carousel', 3, { opacity: 1, delay: 1.8 });
					} else {
						TweenMax.to('.ms-section3 .btn-wrap', 0.5, { opacity: 0, bottom: '-100px' });
						TweenMax.to('.ms-section3 .p-box p', 0.2, { opacity: 0, top: '20px', delay: 0.3 });

						TweenMax.to('.ms-section3 .slick-carousel', 0.5, { opacity: 0, delay: 0.7 });
					}
				}
			}
			// section3 slide
			// 클라이언트에게 각 타입 테스트를 위해 index.html, index2.html에 스크립트를 각각 나누어 놓았음
		</script>

		<!-- font, css -->
		<link rel="stylesheet" href="./css/font.css" />
		<link rel="stylesheet" href="./css/index.css" />
		<style>
			.owl-nav,
			.owl-dots {
				display: none !important;
			}
		</style>
	</head>
	<body>
		<!-- content div -->
		<div id="content" class="ms_k8-section-wrap" role="main">
			<section class="ms-section0 hide">
				<h2>Intro section</h2>
				<div class="center-wrap">
					<div class="logo mb55">
						<img src="./static/img/section0-logo.png" alt="kia logo" />
					</div>
					<div class="p-box">
						<p class="fs40 m-fs34 m2-fs26"><span>새로운 K,</span> 그 여정의 시작</p>
					</div>
				</div>
				<div class="bg-wrap">
					<video playsinline class="ms-pc introMovie" muted src="./static/vod/pc/intro.mp4"></video>
					<video playsinline class="ms-mo introMovie" muted src="./static/vod/mo/intro.mp4"></video>
				</div>
			</section>
			<section class="ms-section1 hide">
				<h2>Interaction section</h2>
				<div class="center-wrap">
					<div class="box-tb top-box">
						<button class="m-fs15">BACK</button>
						<span class="line ms-pc"></span>
					</div>
					<div class="box-tb bottom-box">
						<span class="line ms-pc"></span>
						<button class="m-fs15">SKIP</button>
					</div>
					<div class="p-box">
						<p class="fs40 m-fs30 m2-fs22">K의 새로운 넘버를 소개합니다</p>
						<p class="fs16 m-fs16 m2-fs14">아래에서 연상되는 숫자를 입력해보세요</p>
					</div>
					<div class="num-wrap">
						<div class="input-box">
							<ul>
								<li>
									<img
										class="numImg num-m-fs30 num-m2-fs22"
										src="./static/img/num_3.png"
										alt="number"
									/>
								</li>
								<li class="bar"></li>
								<li>
									<img
										class="numImg num-m-fs30 num-m2-fs22"
										src="./static/img/num_5.png"
										alt="number"
									/>
								</li>
								<li class="bar"></li>
								<li>
									<img
										class="numImg num-m-fs30 num-m2-fs22 num-cursor"
										src="./static/img/num_q.png"
										alt="number"
									/>
								</li>
								<li class="bar"></li>
								<li>
									<img
										class="numImg num-m-fs30 num-m2-fs22"
										src="./static/img/num_9.png"
										alt="number"
									/>
								</li>
							</ul>
						</div>
						<div class="num-pad">
							<ul class="fs24 m-fs22">
								<li>
									<button>
										<img
											class="numImg num-fs12 num-m-fs12"
											src="./static/img/num_1.png"
											alt="number"
										/>
									</button>
									<span></span>
								</li>
								<li>
									<button>
										<img
											class="numImg num-fs12 num-m-fs12"
											src="./static/img/num_2.png"
											alt="number"
										/>
									</button>
									<span></span>
								</li>
								<li>
									<button>
										<img
											class="numImg num-fs12 num-m-fs12"
											src="./static/img/num_3.png"
											alt="number"
										/>
									</button>
									<span></span>
								</li>
								<li>
									<button>
										<img
											class="numImg num-fs12 num-m-fs12"
											src="./static/img/num_4.png"
											alt="number"
										/>
									</button>
									<span></span>
								</li>
								<li>
									<button>
										<img
											class="numImg num-fs12 num-m-fs12"
											src="./static/img/num_5.png"
											alt="number"
										/>
									</button>
									<span></span>
								</li>
								<li>
									<button>
										<img
											class="numImg num-fs12 num-m-fs12"
											src="./static/img/num_6.png"
											alt="number"
										/>
									</button>
									<span></span>
								</li>
								<li>
									<button>
										<img
											class="numImg num-fs12 num-m-fs12"
											src="./static/img/num_7.png"
											alt="number"
										/>
									</button>
									<span></span>
								</li>
								<li>
									<button>
										<img
											class="numImg num-fs12 num-m-fs12"
											src="./static/img/num_8.png"
											alt="number"
										/>
									</button>
									<span></span>
								</li>
								<li>
									<button>
										<img
											class="numImg num-fs12 num-m-fs12"
											src="./static/img/num_9.png"
											alt="number"
										/>
									</button>
									<span></span>
								</li>
							</ul>
						</div>
					</div>
				</div>
				<div class="bg-wrap">
					<div class="ms-mo">
						<img src="./static/img/section1-m-bg-layer1.png" alt="background image" />
						<img src="./static/img/section1-m-bg-layer2.png" alt="background image" />
					</div>
					<img class="ms-pc" src="./static/img/section1-bg-layer1.png" alt="background image" />
					<img class="ms-pc" src="./static/img/section1-bg-layer2.png" alt="background image" />
					<img class="ms-pc" src="./static/img/section1-bg-layer3.png" alt="background image" />
					<img class="ms-pc" src="./static/img/section1-bg-layer4.png" alt="background image" />
					<img class="ms-pc" src="./static/img/section1-bg-layer5.png" alt="background image" />
					<img class="ms-pc" src="./static/img/section1-bg-layer6.png" alt="background image" />
				</div>
			</section>
			<section class="ms-section2 hide">
				<h2>Teaser Movie section</h2>
				<div class="center-wrap">
					<button class="top-left m-fs15">
						<img src="./static/img/icon_close.png" alt="number" />
						CLOSE
					</button>
					<div class="iframe-wrap">
						<iframe
							id="iframe-div"
							width="1280"
							height="720"
							src=""
							frameborder="0"
							allowfullscreen
							allow="autoplay"
						></iframe>
					</div>
				</div>
				<div class="bg-wrap">
					<video playsinline class="ms-pc outroMovie" muted src="./static/vod/pc/outro.mp4"></video>
					<video playsinline class="ms-mo outroMovie" muted src="./static/vod/mo/outro.mp4"></video>
				</div>
			</section>
			<section class="ms-section3 hide">
				<h2>Gallery section</h2>
				<div class="center-wrap full">
					<div class="p-box">
						<p class="fs16 m-fs16 m2-fs12 col_gray2">기존의 질서를 깨는 것으로부터 영감은 시작된다</p>
						<p class="fs52 m-fs40 m2-fs34">낯선 것으로부터 K8</p>
						<p class="fs22 m-fs18 m2-fs16">INTERIOR REVEALS ON 0304</p>
					</div>
					<ul class="slick-carousel">
						<li>
							<img src="./static/img/section3-slideItem1.jpg" alt="gallery item" />
						</li>
						<li>
							<img src="./static/img/section3-slideItem2.jpg" alt="gallery item" />
						</li>
						<li>
							<img src="./static/img/section3-slideItem3.jpg" alt="gallery item" />
						</li>
					</ul>
					<div class="btn-wrap">
						<button class="fs16 btn-black m-fs14 replay">
							<span>영상 다시보기</span>
						</button>
						<button class="fs16 btn-white m-fs14 goFirst">
							<span>처음으로</span>
						</button>
					</div>
				</div>
				<div class="bg-wrap"></div>
			</section>
		</div>
	</body>
</html>
